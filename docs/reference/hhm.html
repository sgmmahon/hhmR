<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Creates a labelled heatmap from heirarchical data. This function is
useful if you wish to create a heatmap where the categories shown on both the x
and y axis can be grouped in some way. This heatmap will order the categories by
their assigned group and present both the categories and group labels along the
axes. An example might be a series of smaller geographies (lower categories) which
aggregate into larger geographical regions (upper groups)."><title>Hierarchical Heatmap — hhm • hhmR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Hierarchical Heatmap — hhm"><meta property="og:description" content="Creates a labelled heatmap from heirarchical data. This function is
useful if you wish to create a heatmap where the categories shown on both the x
and y axis can be grouped in some way. This heatmap will order the categories by
their assigned group and present both the categories and group labels along the
axes. An example might be a series of smaller geographies (lower categories) which
aggregate into larger geographical regions (upper groups)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">hhmR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/hhmR_overview.html">Hierarchical Heatmaps (hhmR) Vignette</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sgmmahon/hhmR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Hierarchical Heatmap</h1>
      <small class="dont-index">Source: <a href="https://github.com/sgmmahon/hhmR/blob/HEAD/R/hhm.R" class="external-link"><code>R/hhm.R</code></a></small>
      <div class="d-none name"><code>hhm.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Creates a labelled heatmap from heirarchical data. This function is
useful if you wish to create a heatmap where the categories shown on both the x
and y axis can be grouped in some way. This heatmap will order the categories by
their assigned group and present both the categories and group labels along the
axes. An example might be a series of smaller geographies (lower categories) which
aggregate into larger geographical regions (upper groups).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">hhm</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="va">ylower</span>,</span>
<span>  <span class="va">yupper</span>,</span>
<span>  <span class="va">xlower</span>,</span>
<span>  <span class="va">xupper</span>,</span>
<span>  <span class="va">values</span>,</span>
<span>  rm_diag <span class="op">=</span> <span class="cn">F</span>,</span>
<span>  lgttl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bins <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cbrks <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cclrs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  norm_lgd <span class="op">=</span> <span class="cn">F</span>,</span>
<span>  lgdps <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  xttl_height <span class="op">=</span> <span class="fl">0.15</span>,</span>
<span>  yttl_width <span class="op">=</span> <span class="fl">0.15</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>df</dt>
<dd><p>A data.frame with containing values with which to populate the heatmap.
The data.frame must include columns specifying the lower categories (`ylower`,
`xlower`) and upper groups (`yupper`, `xupper`) that each value corresponds to.
These categories and groups will be used to arrange and label the rows and
columns of the heatmap. It must also contain a `values` variable containing the
values used to populate the heatmap. Note that the groups will by default be
arranged alphabetically (top to bottom / left to right). The ordering of the
groups can be manually specified by converting yupper and/or xupper to factors.
In this case, the groups will be ordered based on the ordering of the factor
levels.</p></dd>


<dt>ylower</dt>
<dd><p>A column in `df` containing the categories that will be presented
as rows along the y-axis of the heatmap.</p></dd>


<dt>yupper</dt>
<dd><p>A column in `df` containing the groupings that will be used to
arrange the heatmap rows.</p></dd>


<dt>xlower</dt>
<dd><p>A column in `df` containing the categories that will be presented
as columns along the x-axis of the heatmap.</p></dd>


<dt>xupper</dt>
<dd><p>A column in `df` containing the groupings that will be used to
arrange the heatmap columns.</p></dd>


<dt>values</dt>
<dd><p>A column in `df` containing the values used to populate the
heatmap.</p></dd>


<dt>rm_diag</dt>
<dd><p>Do not show values for categories along the x and y axes that
are identical (defaults to `FALSE`). This is particularly useful for
origin-destination heatmaps, where the user may want to hide the diagonal
values.</p></dd>


<dt>lgttl</dt>
<dd><p>Option to manually define legend title.</p></dd>


<dt>bins</dt>
<dd><p>Option to break the data into a specified number of groups
(defaults to `NULL`). The thresholds between these groups will be equally
spaced between zero and the maximum value observed in `values`.</p></dd>


<dt>cbrks</dt>
<dd><p>Vector of custom breaks, if users wish to use a discrete legend
colour scheme (defaults to `NULL`). For example, a supplied vector of `c(5,10,
20)` would break he values up into 5 ordered groups of ranges 0, 0-5, 5-10,
10-20 and 20+.</p></dd>


<dt>cclrs</dt>
<dd><p>Vector of hexcodes, which to create a custom legend colour scheme
(defaults to `NULL`). If `cbrks` is supplied, `cclrs` must have a length
two longer than `cbrks`. If `bins` is supplied, `cclrs` must have a length
equal to the values provided to `bins`.</p></dd>


<dt>norm_lgd</dt>
<dd><p>Normalised to between 0 and 1 in legend (defaults to `FALSE`).
Allows for consistency when comparing heatmaps across different datasets. At
present, this only works if all heatmap values are positive.</p></dd>


<dt>lgdps</dt>
<dd><p>If using custom breaks, define the number of decimal points to
round the legend scale to (defaults to 0). If `norm_lgd` is `TRUE`, it will
default to 3.</p></dd>


<dt>xttl_height</dt>
<dd><p>The space allocated to the group titles on the x-axis as a
proportion of the heatmap's height (defaults to 0.15).</p></dd>


<dt>yttl_width</dt>
<dd><p>The space allocated to the group titles on the y-axis as a
proportion of the heatmap's width (defaults to 0.15).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A ggplot object containing the final heatmap.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Import toy demonstration dataset (see `?example_migration` for see details)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">example_migration</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Intial heatmap</span></span></span>
<span class="r-in"><span><span class="va">hierarchical_heatmap</span> <span class="op">=</span> <span class="fu">hhm</span><span class="op">(</span>df <span class="op">=</span> <span class="va">example_migration</span>,</span></span>
<span class="r-in"><span>                           ylower <span class="op">=</span> <span class="st">"Origin County"</span>,</span></span>
<span class="r-in"><span>                           xlower <span class="op">=</span> <span class="st">"Destination County"</span>,</span></span>
<span class="r-in"><span>                           yupper <span class="op">=</span> <span class="st">"Origin Region"</span>,</span></span>
<span class="r-in"><span>                           xupper <span class="op">=</span> <span class="st">"Destination Region"</span>,</span></span>
<span class="r-in"><span>                           values <span class="op">=</span> <span class="st">"Migration"</span>,</span></span>
<span class="r-in"><span>                           yttl_width <span class="op">=</span> <span class="fl">0.22</span>,</span></span>
<span class="r-in"><span>                           xttl_height <span class="op">=</span> <span class="fl">0.4</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># View result</span></span></span>
<span class="r-in"><span><span class="va">hierarchical_heatmap</span></span></span>
<span class="r-plt img"><img src="hhm-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Remove diagonal from heatmap (i.e. hide static populations)</span></span></span>
<span class="r-in"><span><span class="va">removed_diag</span>         <span class="op">=</span> <span class="fu">hhm</span><span class="op">(</span>df <span class="op">=</span> <span class="va">example_migration</span>,</span></span>
<span class="r-in"><span>                           ylower <span class="op">=</span> <span class="st">"Origin County"</span>,</span></span>
<span class="r-in"><span>                           xlower <span class="op">=</span> <span class="st">"Destination County"</span>,</span></span>
<span class="r-in"><span>                           yupper <span class="op">=</span> <span class="st">"Origin Region"</span>,</span></span>
<span class="r-in"><span>                           xupper <span class="op">=</span> <span class="st">"Destination Region"</span>,</span></span>
<span class="r-in"><span>                           values <span class="op">=</span> <span class="st">"Migration"</span>,</span></span>
<span class="r-in"><span>                           yttl_width <span class="op">=</span> <span class="fl">0.22</span>,</span></span>
<span class="r-in"><span>                           xttl_height <span class="op">=</span> <span class="fl">0.4</span>,</span></span>
<span class="r-in"><span>                           rm_diag <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># View result</span></span></span>
<span class="r-in"><span><span class="va">removed_diag</span></span></span>
<span class="r-plt img"><img src="hhm-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Nomalise the legend</span></span></span>
<span class="r-in"><span><span class="va">normalised_lgd</span>       <span class="op">=</span> <span class="fu">hhm</span><span class="op">(</span>df <span class="op">=</span> <span class="va">example_migration</span>,</span></span>
<span class="r-in"><span>                           ylower <span class="op">=</span> <span class="st">"Origin County"</span>,</span></span>
<span class="r-in"><span>                           xlower <span class="op">=</span> <span class="st">"Destination County"</span>,</span></span>
<span class="r-in"><span>                           yupper <span class="op">=</span> <span class="st">"Origin Region"</span>,</span></span>
<span class="r-in"><span>                           xupper <span class="op">=</span> <span class="st">"Destination Region"</span>,</span></span>
<span class="r-in"><span>                           values <span class="op">=</span> <span class="st">"Migration"</span>,</span></span>
<span class="r-in"><span>                           yttl_width <span class="op">=</span> <span class="fl">0.22</span>,</span></span>
<span class="r-in"><span>                           xttl_height <span class="op">=</span> <span class="fl">0.4</span>,</span></span>
<span class="r-in"><span>                           rm_diag <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                           norm_lgd <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># View result</span></span></span>
<span class="r-in"><span><span class="va">normalised_lgd</span></span></span>
<span class="r-plt img"><img src="hhm-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Manually define colour scheme for heatmap (uses viridis colour scheme)</span></span></span>
<span class="r-in"><span><span class="va">viridis_12</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#440154FF"</span>,<span class="st">"#482173FF"</span>,<span class="st">"#433E85FF"</span>,<span class="st">"#38598CFF"</span>,<span class="st">"#2D708EFF"</span>,<span class="st">"#25858EFF"</span>,</span></span>
<span class="r-in"><span>               <span class="st">"#1E9B8AFF"</span>,<span class="st">"#2BB07FFF"</span>,<span class="st">"#51C56AFF"</span>,<span class="st">"#85D54AFF"</span>,<span class="st">"#C2DF23FF"</span>,<span class="st">"#FDE725FF"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Assign continuous colour scheme</span></span></span>
<span class="r-in"><span><span class="va">cont_clrs</span>            <span class="op">=</span> <span class="fu">hhm</span><span class="op">(</span>df <span class="op">=</span> <span class="va">example_migration</span>,</span></span>
<span class="r-in"><span>                           ylower <span class="op">=</span> <span class="st">"Origin County"</span>,</span></span>
<span class="r-in"><span>                           xlower <span class="op">=</span> <span class="st">"Destination County"</span>,</span></span>
<span class="r-in"><span>                           yupper <span class="op">=</span> <span class="st">"Origin Region"</span>,</span></span>
<span class="r-in"><span>                           xupper <span class="op">=</span> <span class="st">"Destination Region"</span>,</span></span>
<span class="r-in"><span>                           values <span class="op">=</span> <span class="st">"Migration"</span>,</span></span>
<span class="r-in"><span>                           yttl_width <span class="op">=</span> <span class="fl">0.22</span>,</span></span>
<span class="r-in"><span>                           xttl_height <span class="op">=</span> <span class="fl">0.4</span>,</span></span>
<span class="r-in"><span>                           rm_diag <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                           norm_lgd <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                           cclrs <span class="op">=</span> <span class="va">viridis_12</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># View result</span></span></span>
<span class="r-in"><span><span class="va">cont_clrs</span></span></span>
<span class="r-plt img"><img src="hhm-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Break legends into a specified number of bins</span></span></span>
<span class="r-in"><span><span class="co"># (of equal intervals between 0 and the maximum value in `values`)</span></span></span>
<span class="r-in"><span><span class="va">bins_15</span>              <span class="op">=</span> <span class="fu">hhm</span><span class="op">(</span>df <span class="op">=</span> <span class="va">example_migration</span>,</span></span>
<span class="r-in"><span>                           ylower <span class="op">=</span> <span class="st">"Origin County"</span>,</span></span>
<span class="r-in"><span>                           xlower <span class="op">=</span> <span class="st">"Destination County"</span>,</span></span>
<span class="r-in"><span>                           yupper <span class="op">=</span> <span class="st">"Origin Region"</span>,</span></span>
<span class="r-in"><span>                           xupper <span class="op">=</span> <span class="st">"Destination Region"</span>,</span></span>
<span class="r-in"><span>                           values <span class="op">=</span> <span class="st">"Migration"</span>,</span></span>
<span class="r-in"><span>                           yttl_width <span class="op">=</span> <span class="fl">0.22</span>,</span></span>
<span class="r-in"><span>                           xttl_height <span class="op">=</span> <span class="fl">0.4</span>,</span></span>
<span class="r-in"><span>                           rm_diag <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                           bins <span class="op">=</span> <span class="fl">15</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># View result</span></span></span>
<span class="r-in"><span><span class="va">bins_15</span></span></span>
<span class="r-plt img"><img src="hhm-5.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Manually break data into categories using user-specified intervals.</span></span></span>
<span class="r-in"><span><span class="co"># In this instance, the `hhmR` function `log_seq` has been used to create a</span></span></span>
<span class="r-in"><span><span class="co"># vector of logarithmicly increasing values between 1 and the maximum value</span></span></span>
<span class="r-in"><span><span class="co"># in the dataset not on the diagonal.</span></span></span>
<span class="r-in"><span><span class="va">cbrks</span> <span class="op">=</span> <span class="fu"><a href="log_seq.html">log_seq</a></span><span class="op">(</span><span class="va">example_migration</span><span class="op">[</span><span class="va">example_migration</span><span class="op">[[</span><span class="st">"Origin County"</span>     <span class="op">]</span><span class="op">]</span> <span class="op">!=</span></span></span>
<span class="r-in"><span>                                  <span class="va">example_migration</span><span class="op">[[</span><span class="st">"Destination County"</span><span class="op">]</span><span class="op">]</span>,<span class="op">]</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>                <span class="va">.</span><span class="op">$</span><span class="va">Migration</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="op">)</span>, <span class="fl">12</span>, rmv_extremes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Manually assign legend categories</span></span></span>
<span class="r-in"><span><span class="va">legend_cats</span>          <span class="op">=</span> <span class="fu">hhm</span><span class="op">(</span>df <span class="op">=</span> <span class="va">example_migration</span>,</span></span>
<span class="r-in"><span>                           ylower <span class="op">=</span> <span class="st">"Origin County"</span>,</span></span>
<span class="r-in"><span>                           xlower <span class="op">=</span> <span class="st">"Destination County"</span>,</span></span>
<span class="r-in"><span>                           yupper <span class="op">=</span> <span class="st">"Origin Region"</span>,</span></span>
<span class="r-in"><span>                           xupper <span class="op">=</span> <span class="st">"Destination Region"</span>,</span></span>
<span class="r-in"><span>                           values <span class="op">=</span> <span class="st">"Migration"</span>,</span></span>
<span class="r-in"><span>                           yttl_width <span class="op">=</span> <span class="fl">0.22</span>,</span></span>
<span class="r-in"><span>                           xttl_height <span class="op">=</span> <span class="fl">0.4</span>,</span></span>
<span class="r-in"><span>                           rm_diag <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                           cbrks <span class="op">=</span> <span class="va">cbrks</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># View result</span></span></span>
<span class="r-in"><span><span class="va">legend_cats</span></span></span>
<span class="r-plt img"><img src="hhm-6.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Manually assign colours to legend categories</span></span></span>
<span class="r-in"><span><span class="va">cat_clrs</span>             <span class="op">=</span> <span class="fu">hhm</span><span class="op">(</span>df <span class="op">=</span> <span class="va">example_migration</span>,</span></span>
<span class="r-in"><span>                           ylower <span class="op">=</span> <span class="st">"Origin County"</span>,</span></span>
<span class="r-in"><span>                           xlower <span class="op">=</span> <span class="st">"Destination County"</span>,</span></span>
<span class="r-in"><span>                           yupper <span class="op">=</span> <span class="st">"Origin Region"</span>,</span></span>
<span class="r-in"><span>                           xupper <span class="op">=</span> <span class="st">"Destination Region"</span>,</span></span>
<span class="r-in"><span>                           values <span class="op">=</span> <span class="st">"Migration"</span>,</span></span>
<span class="r-in"><span>                           yttl_width <span class="op">=</span> <span class="fl">0.22</span>,</span></span>
<span class="r-in"><span>                           xttl_height <span class="op">=</span> <span class="fl">0.4</span>,</span></span>
<span class="r-in"><span>                           rm_diag <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                           cbrks <span class="op">=</span> <span class="va">cbrks</span>,</span></span>
<span class="r-in"><span>                           cclrs <span class="op">=</span> <span class="va">viridis_12</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># View result</span></span></span>
<span class="r-in"><span><span class="va">cat_clrs</span></span></span>
<span class="r-plt img"><img src="hhm-7.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Michael Mahony, Francisco Rowe, Carmen Cabrera-Arnau.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

